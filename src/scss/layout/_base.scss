// note that styling is imported on a per-component basis,
// which enables quicker downloads for essential styling
@import '../util/util';

#viewport {
	position: fixed;
	top: 0;
	right: 30vw;
	bottom:0;
	left: 0;
	z-index: -2;
	background: rgb(17, 17, 17);
	padding: 9px;

	// canvas wrapper element
	// creates the CRT-style inner-bevel effect
	div {
		border-radius: 14px;
		box-shadow: inset 0px 0px 20px 10px rgba(0,0,0,0.29);
	}
}

#sidebar {
	background: #1f2233;
	position: fixed;
	right: 0;
	left: 70vw;
	// background: rgb(235, 174, 219); // temp
	bottom: 0;
	top: 0;
	padding: 1em;
	display: grid;
	grid-template-rows: auto 1fr auto;

	// via https://css-tricks.com/old-timey-terminal-styling/
	.crt {
		background-image:
			radial-gradient(
			rgba(0, 30, 0, 0.75),
			black 120%
		);
		padding: .5em;
		height: 470px;
		border-radius: 5px;
		border: 5px inset;

		position: relative;
		overflow: hidden;
		pointer-events: none;

		&::after {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: repeating-linear-gradient(
				0deg,
				rgba(black, 0.15),
				rgba(black, 0.15) 1px,
				transparent 1px,
				transparent 2px
			);
		}

		.crt-actions-container {
			position: absolute;
			bottom: 1em;
		}

		.crt-btn {
			border:none;
			background: transparent;

			&:hover, &:focus {
				background: rgba(6, 252, 6, 0.295);
			}
		}

		#user-input {
			width: 100%;
			background: transparent;
			pointer-events: all;
			border: none;
			padding: 1em 0;
			min-height: 1rem;
		}

		span, p, .crt-btn, #user-input {
			text-shadow: 0 0 5px #C8C8C8;
			font-family: monospace;
			color: white;
			overflow: visible;
			overflow-wrap: break-all;
			font-size: larger;
		}
	}

	.title a {
		text-decoration: none;
		color: rgba(214, 214, 214, 0.6);

	}
}

.blinking-cursor {
  color: white;
  animation: 1s blink step-end infinite;
}

@keyframes blink {
  from, to {
		color: transparent;
		text-shadow: none;
  }
  50% {
		color: white;
		text-shadow: 0 0 5px #C8C8C8;
  }
}

// Tablet & smaller: This site was designed desktop-first
// see util, vendor/media & settings for query information

@include media('<=tabletH') {
	#viewport {
		right: 0;
	}
	#sidebar {
		left: 100%;
	}

	.crt-actions-container {
		bottom: 0;
		left: 0;
		display: grid;
		width: 100%;
		grid-template-columns: 1fr 1fr 1fr 1fr;
	}
}

@include media('<=mobile') {
	.crt-actions-container {
		grid-template-columns: 1fr 1fr;
	}
}
